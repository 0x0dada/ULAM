## -*- mode:ulam -*-
#=t3942_test_compiler_caarray2D
#!
Exit status: -11
Ue_Eltypo { Int(32) test() {  TEventWindows tvt;  EventWindow ew = tvt 2 cast [] cast;  Atom(96) atom1 = ew 0 cast [] cast;  Atom(96) atom2 = tvt 2 cast [] 0 cast [] cast;  0 cast return } }
Un_TEventWindows { EventWindow m_EWarr[7](), (), (), (), (), (), ();  <NOMAIN> }
Uq_EventWindow { <NOMAIN> }
##
## To answer question posed by Dave 11/22/2016, 2d-custom array?
##
#>Eltypo.ulam
  ulam 2;
element Eltypo {
  Int test(){
    TEventWindows tvt;
    EventWindow ew = tvt[2];
    Atom atom1 = ew[0];
    Atom atom2 = tvt[2][0]; //ERROR
    return 0;
  }
}


#:TEventWindows.ulam
  ulam 2;
transient TEventWindows {
  EventWindow m_EWarr[7];
  EventWindow& aref(Int index) {
    return m_EWarr[index];
  }
}

#:EventWindow.ulam
  ulam 1;
quark EventWindow {
  Atom& aref(Int index) native;
}

#.
