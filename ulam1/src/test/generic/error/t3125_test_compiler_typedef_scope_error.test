## -*- mode:ulam -*-
#=t3125_test_compiler_typedef_scope_error
#!
./D.ulam:10:6: ERROR: Invalid Type: Bar used with [].
./D.ulam:11:13: ERROR: Invalid Type: Bar used with [].
./D.ulam:9:5: ERROR: Unresolved No.1.
./D.ulam:9:5: ERROR: Unresolved No.2.
./D.ulam:10:10: ERROR: Unresolved No.3.
./D.ulam:11:5: ERROR: Unresolved No.4.
./D.ulam:2:3: Warning: 4 nodes with unresolved types remain in function <test> (Uf_4test,1).
./D.ulam:2:7: Warning: Summary: 4 nodes with unresolved types remain in  a single function <test> in class: D.
./D.ulam:1:9: Warning: 4 data member nodes with unresolved types remain in class 'D'.
./D.ulam:1:9: ERROR: 4 Nodes with unresolved types detected after type labeling class: D.
Unrecoverable Program Type Label FAILURE.
##
#>D.ulam
element D {
  Int test()
  {
    {
     typedef Int Bar[2];
     Bar e;
     e[0] = 4;
    }
    Bar f;
    f[0] = 3;  /* match return type */
    return f[0];
   }
}
##
##      // Bar f gave error: a.ulam:1:69: (NodeTerminalIdent.cpp:labelType:61) ERROR: (2) <f> is not defined, and cannot be called.
#.
