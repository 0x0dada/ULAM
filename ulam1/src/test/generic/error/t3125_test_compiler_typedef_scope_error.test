## -*- mode:ulam -*-
#=t3125_test_compiler_typedef_scope_error
#!
./D.ulam:9:5: ERROR: Unresolved type <0Holder(UNKNOWN)> used with local variable symbol name 'f' in function: test.
./D.ulam:9:5: ERROR: Undetermined Type: <Bar>; Suggest 'use Bar;' if it's a class, otherwise a typedef is needed in D.
./D.ulam:1:9: ERROR: 1 Nodes with erroneous types detected after type labeling class: D.
./D.ulam:1:9: ERROR: 7 Nodes with unresolved types detected after type labeling class: D.
Unrecoverable Program Type Label FAILURE.
##
#>D.ulam
element D {
  Int test()
  {
    {
     typedef Int Bar[2];
     Bar e;
     e[0] = 4;
    }
    Bar f;
    f[0] = 3;  /* match return type */
    return f[0];
   }
}
##
##      // Bar f gave error: a.ulam:1:69: (NodeTerminalIdent.cpp:labelType:61) ERROR: (2) <f> is not defined, and cannot be called.
#.
