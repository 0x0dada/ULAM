## -*- mode:ulam -*-
#=t3659_test_compiler_element_castatomfromquarkdefault_error
#!
./Foo.ulam:6:5: ERROR: Storage expression for: b, must be storeintoable.
./Foo.ulam:3:9: ERROR: 1 Nodes with erroneous types detected after type labeling class: Foo.
./Foo.ulam:3:9: ERROR: 2 Nodes with unresolved types detected after type labeling class: Foo.
Unrecoverable Program Type Label FAILURE.
##
## informed by t3657
##
#>Foo.ulam
  ulam 2;
use QPerc;
element Foo : QPerc {

  Int test() {
    Atom& b = QPerc.atomof; //(Atom) qref;

    Atom& c = Foo.atomof; //still hazy, no error msg
    return 1;
  }
}

#:QPerc.ulam
  ulam 2;
quark QPerc {
  Bool bb;
}

#.
