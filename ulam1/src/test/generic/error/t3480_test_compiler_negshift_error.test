## -*- mode:ulam -*-
#=t3480_test_compiler_negshift_error
#!
./A.ulam:7:1: ERROR: Use a comparison operator to convert Int(32) to Bool(1) for 'while'.
./A.ulam:8:19: ERROR: Unsigned is the supported type for shift distance, operator<<; Suggest casting Int(2) to Unsigned.
./A.ulam:9:15: ERROR: Unsigned is the supported type for shift distance, operator>>; Suggest casting Int(2) to Unsigned.
./A.ulam:7:1: ERROR: Unresolved No.1.
./A.ulam:8:3: ERROR: Unresolved No.2.
./A.ulam:8:19: ERROR: Unresolved No.3.
./A.ulam:9:4: ERROR: Unresolved No.4.
./A.ulam:9:15: ERROR: Unresolved No.5.
./A.ulam:4:1: Warning: 5 nodes with unresolved types remain in function <test> (Uf_4test,1).
./A.ulam:4:5: Warning: Summary: 5 nodes with unresolved types remain in  a single function <test> in class: A.
./A.ulam:1:9: Warning: 5 data member nodes with unresolved types remain in class 'A'.
./A.ulam:1:9: ERROR: 5 Nodes with unresolved types detected after type labeling class: A.
Unrecoverable Program Type Label FAILURE.
##
##      //informed by t3246
##
#>A.ulam
element A {
Bool(7) b;
Unsigned d;
Int test(){Int a;
 a = 8;
d = 1;
while(a){
d = (Unsigned) (d << -1);
 a = (Int) (a >> -1);
}
return (Int) d;
 }
 }
##
##      // oops! >> is infinite WHILE loop
##      //bool rtn1 = fms->add("A.ulam","element A {\nBool(7) b;\nUnsigned d;\nInt test(){Int a;\n a = 8;\nd = 1;\nwhile(a){\nd = (Unsigned) ((Bits) d << (Unsigned) -1);\n a = (Int) ((Bits) a >> (Unsigned) -1);\n}\nreturn (Int) d;\n }\n }\n");
##      //ok.
##      //bool rtn1 = fms->add("A.ulam","element A {\nBool(7) b;\nUnsigned d;\nInt test(){Int a;\n a = 8;\nd = 1;\n d = (Unsigned) ((Bits) d << (Unsigned) -1);\n a = (Int) ((Bits) a >> (Unsigned) -1);\nreturn (Int) d;\n }\n }\n");
##
#.
