## -*- mode:ulam -*-
#=t3402_test_compiler_isemptyquark_error
#!
./Foo.ulam:7:7: ERROR: Invalid righthand type of conditional operator 'is'; must be an element name, not type: Empty.
./Foo.ulam:7:2: ERROR: Unresolved No.1.
./Foo.ulam:7:7: ERROR: Unresolved No.2.
./Foo.ulam:7:17: ERROR: Unresolved No.3.
./Foo.ulam:8:2: ERROR: Unresolved No.4.
./Foo.ulam:8:12: ERROR: Unresolved No.5.
./Foo.ulam:8:5: ERROR: Unresolved No.6.
./Foo.ulam:8:29: ERROR: Unresolved No.7.
./Foo.ulam:9:2: ERROR: Unresolved No.8.
./Foo.ulam:11:7: ERROR: Unresolved No.9.
./Foo.ulam:11:18: ERROR: Unresolved No.10.
./Foo.ulam:11:11: ERROR: Unresolved No.11.
./Foo.ulam:11:35: ERROR: Unresolved No.12.
./Foo.ulam:12:2: ERROR: Unresolved No.13.
./Foo.ulam:5:2: Warning: 13 nodes with unresolved types remain in function <test> (Uf_4test,1).
./Foo.ulam:5:6: Warning: Summary: 13 nodes with unresolved types remain in  a single function <test> in class: Foo.
./Foo.ulam:3:10: Warning: 13 data member nodes with unresolved types remain in class 'Foo'.
./Foo.ulam:3:10: ERROR: 13 Nodes with unresolved types detected after type labeling class: Foo.
Unrecoverable Program Type Label FAILURE.
##
#>Foo.ulam
ulam 1;
 use Empty;
 element Foo {
Unary(6) energy;
 Int test(){
Atom a;
 if(a is Empty) {
 if(energy == energy.maxof) {
 return 1;
 }
 else if (energy == energy.minof) {
 return 0;
 }
 }
 return -1;
 }
 }

#:Empty.ulam
ulam 1;
 quark Empty {
 }
##
##      // gen code issue: quark doesn't have internalCMethodImplementingIs!!
##      //include/Ue_10163Foo0.tcc:28:57: error: ‘POS’ was not declared in this scope
##      //        const u32 Uh_tmpreg_loadable_12 = Uq_10105Empty0<EC,POS>::internalCMethodImplementingIs(Uh_tmpval_unpacked_11);
##
#.
