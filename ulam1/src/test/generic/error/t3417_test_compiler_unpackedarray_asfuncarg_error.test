## -*- mode:ulam -*-
#=t3417_test_compiler_unpackedarray_asfuncarg_error
#!
./A.ulam:3:10: ERROR: Function Definition parameter 1, type: Int(32)[10] requires UNPACKED array support.
./A.ulam:6:2: ERROR: Function Definition <func2> return type: Int(32)[10] requires UNPACKED array support.
./A.ulam:15:23: ERROR: Incompatible (nonscalar) types Int(32)[10] and Int(32)[10] for binary operator+ ; Suggest writing a loop.
./A.ulam:15:2: ERROR: Initial value expression for: site2, initialization is invalid.
./A.ulam:16:14: ERROR: Function Definition parameter 1, type: Int(32)[10] requires UNPACKED array support.
./A.ulam:3:1: ERROR: Unresolved No.1: <list>.
./A.ulam:3:1: Warning: 1 nodes with unresolved types remain in function <func> (Uf_4func,17).
./A.ulam:3:5: Warning: Summary: 1 nodes with unresolved types remain in  a single function <func> in class: A.
./A.ulam:6:2: ERROR: Unresolved No.1: <func2>.
./A.ulam:7:2: ERROR: Unresolved No.2: <BigSite>.
./A.ulam:7:2: ERROR: Unresolved No.3: <s>.
./A.ulam:8:1: ERROR: Unresolved No.4: <{}>.
./A.ulam:8:5: ERROR: Unresolved No.5: <Int>.
./A.ulam:8:5: ERROR: Unresolved No.6: <i>.
./A.ulam:8:1: ERROR: Unresolved No.7: <while>.
./A.ulam:8:18: ERROR: Unresolved No.8: <<>.
./A.ulam:8:16: ERROR: Unresolved No.9: <i>.
./A.ulam:8:28: ERROR: Unresolved No.10: <{}>.
./A.ulam:9:7: ERROR: Unresolved No.11: <=>.
./A.ulam:9:2: ERROR: Unresolved No.12: <s>.
./A.ulam:9:4: ERROR: Unresolved No.13: <i>.
./A.ulam:9:9: ERROR: Unresolved No.14: <i>.
./A.ulam:8:24: ERROR: Unresolved No.15: <:>.
./A.ulam:8:24: ERROR: Unresolved No.16: <+=>.
./A.ulam:8:26: ERROR: Unresolved No.17: <i>.
./A.ulam:11:2: ERROR: Unresolved No.18: <return>.
./A.ulam:11:9: ERROR: Unresolved No.19: <s>.
./A.ulam:6:2: Warning: 19 nodes with unresolved types remain in function <func2> (Uf_5func2,2).
./A.ulam:6:10: Warning: Summary: 19 nodes with unresolved types remain in  a single function <func2> in class: A.
./A.ulam:15:23: ERROR: Unresolved No.1: <+>.
./A.ulam:15:2: ERROR: Unresolved No.2: <site2>.
./A.ulam:16:9: ERROR: Unresolved No.3: <func>.
./A.ulam:16:9: ERROR: Unresolved No.4: <list>.
./A.ulam:13:2: Warning: 4 nodes with unresolved types remain in function <test> (Uf_4test,2).
./A.ulam:13:6: Warning: Summary: 4 nodes with unresolved types remain in  a single function <test> in class: A.
./A.ulam:1:9: Warning: 24 data member nodes with unresolved types remain in class 'A'.
./A.ulam:1:9: ERROR: 24 Nodes with unresolved types detected after type labeling class: A.
Unrecoverable Program Type Label FAILURE.
##
#>A.ulam
element A {
typedef Int BigSite[10];
Int func(BigSite sarr) {
 return sarr[9];
}
 BigSite func2() {
 BigSite s;
for(Int i = 0; i < 10; ++i){
 s[i] = i;
}
 return s;
}
 Int test(){
 BigSite site = func2();
 BigSite site2 = site + site2;
 return func(site);
 }
 }
##
##      //bool rtn1 = fms->add("A.ulam","element A {\ntypedef Int BigSite[10];\nInt test(){\n BigSite site, site2; site = site2;\n return 2;\n }\n }\n");
#.
