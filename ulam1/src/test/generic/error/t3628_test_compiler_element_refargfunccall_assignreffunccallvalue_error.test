## -*- mode:ulam -*-
#=t3628_test_compiler_element_refargfunccall_assignreffunccallvalue_error
#!
./Foo.ulam:23:5: ERROR: Argument 1 to function <check> is a function call, and cannot be used as a reference parameter.
./Foo.ulam:6:9: ERROR: Unresolved No.1.
./Foo.ulam:6:11: ERROR: Unresolved No.2.
./Foo.ulam:5:3: Warning: 2 nodes with unresolved types remain in function <check> (Uf_5check,19).
./Foo.ulam:5:8: Warning: Summary: 2 nodes with unresolved types remain in  a single function <check> in class: Foo.
./Foo.ulam:23:5: ERROR: Unresolved No.1.
./Foo.ulam:21:3: Warning: 1 nodes with unresolved types remain in function <test> (Uf_4test,1).
./Foo.ulam:21:7: Warning: Summary: 1 nodes with unresolved types remain in  a single function <test> in class: Foo.
./Foo.ulam:2:9: Warning: 3 data member nodes with unresolved types remain in class 'Foo'.
./Foo.ulam:2:9: ERROR: 3 Nodes with unresolved types detected after type labeling class: Foo.
Unrecoverable Program Type Label FAILURE.
##
## informed by t3626
##
#>Foo.ulam
  ulam 2;
element Foo {
  Int(4) m_i;
  Bool(3) m_b;
  Void check(Bool(3)& bok) {
    bok = lessthanmax(m_i);
  }

  Bool(3) lessthanmax(Int(4) iarg)
  {
    if (iarg < 7)
      return true;
    return false;
  }

  Bool(3) getMB()
  {
    return m_b;
  }

  Int test() {
    m_i = 3;
    check(getMB());
    return m_i;
  }
}
#.
