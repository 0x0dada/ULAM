ulam 1;

quark Trigger {
  typedef Unary(2) State;
  State mState;

  constant State cSAFE = 0;
  constant State cARMED = cSAFE + 1;
  constant State cPULLED = cARMED + 1;

  Void doSafe() { mState = cSAFE; }
  Bool isSafe() { return mState == cSAFE; }

  Void doArm() { if (isSafe()) mState = cARMED; }
  Bool isArmed() { return mState == cARMED; }

  Void doPull() { if (isArmed()) mState = cPULLED; }
  Bool isPulled() { return mState == cPULLED; }
}
